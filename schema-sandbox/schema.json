{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "http://citation-file-format.github.io/1.1.0/schema",
    "title": "Citation File Format",
    "description": "A file with citation metadata for software or datasets",
    "additionalProperties": false,
    "type": "object",
    "properties": {
        "cff-version": {
            "type": "string",
            "pattern": "^1\\.1\\.0$",
            "description": "The version of CFF used for providing the citation metadata"
        },
        "message": {
            "type": "string",
            "description": "A message to the (human) reader of the file to let them know what to do with the citation metadata"
        },
        "type": {
            "type": "string",
            "enum": [
                "dataset",
                "software"
            ]
        },
        "abstract": {
            "type": "string"
        },
        "authors": {
            "type": "array",
            "minItems": 1,
            "uniqueItems": true,
            "items": {
                "anyOf": [
                    {"$ref": "#/definitions/person"},
                    {"$ref": "#/definitions/entity"}
                ]
            }
        },
        "commit": {
            "type": "string",
            "description": "The commit SHA1 hash or revision number of the software version",
            "pattern": "^[a-f0-9]{7,40}$"
        },
        "identifiers": {
            "items": {
                "$ref": "#/definitions/identifier"
            },
            "minItems": 1,
            "type": "array",
            "uniqueItems": true
        }
    },
    "required": [
        "cff-version",
        "message",
        "authors"
    ],
    "definitions": {
        "identifier": {
            "additionalProperties": false,
            "properties": {
                "type": {
                    "enum": [
                        "doi",
                        "other",
                        "swh",
                        "url"
                    ],
                    "type": "string"
                },
                "value": {
                    "minLength": 1,
                    "type": "string"
                }
            },
            "required": [
                "type",
                "value"
            ],
            "type": "object"
        },
        "person": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "given-names": {
                    "type": "string"
                }
            }
        },
        "entity": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "name": {
                    "type": "string"
                }
            }
        }
    }
}
